biobased production chemical material fuel represents one important building block overcome dependency fossil feedstock apart replacement petrochemical feedstock biorenewable resource includes development use biochemical conversion system synthesize value added product biochemical production process often rely microbial fermentation specifically selected genetically designed micro organism convert given substrate target product optimization suitable cell factory superior performance key topic metabolic engineering top approach proven successful biosynthesis number industrially relevant product alternative mainly bottom approach use cell free production system purified enzyme selected metabolite combined facilitate bioconversion cell free system initially consisted single enzyme classical field biocatalysis complexity scope cell free bioproduction system grown rapidly recent year includes successful reconstruction entire central metabolic pathway cell free production system range chemical example ethanol isobutanol propanediol monoterpenes moreover cell free system allow construction completely new synthetic pathway recently published cetch cycle carbon dioxide fixation involves reaction step detailed literature cell based cell free production process particular advantage weakness example cellular system provide robust environment enzyme operation enable cheap integrated synthesis required pathway component cell free system allow one assemble completely new pathway precisely control system parameter circumvent intricate cellular genetic regulation often impeding higher yield productivity whole cell system furthermore since biomass synthesis take place cell free system conversion substrate desired product possible pathway involving toxic compound used would feasible however one particular challenge cell free system balancing regeneration cofactor mainly exclusively adp atp nad nad consumed produced metabolic pathway cell balance net consumption net production cofactor multiple dedicated metabolic pathway imbalance cell free system quickly stop operation system accordingly different regeneration submodules used replenish cofactor pool example regenerating atp adp schwander added polyphosphate polyphosphate transferase carbon dioxide fixing cetch cycle similar approach used cell free production nucleotide sugar although kind atp regeneration system simple relatively cheap worked sufficiently example disadvantage accumulation inorganic phosphate thermodynamic reason may slow atp regeneration step thus negatively affect efficiency whole system longer batch run similar negative effect arise using compound high energy phosphate bond pep frequently used cell free protein synthesis alternative atp regeneration system therefore developed example generation acetyl phosphate pyruvate possibly extend several upstream glycolytic step used produce atp acetate kinase approach circumvents net production inorganic phosphate lead turn accumulation acetate may adverse inhibitory effect efficiency atp regeneration cycle whole process running longer time period regarding regeneration nad schwander used formate electron donor replenish nadph pool formate dehydrogenase one step module simple cheap fully sufficient demonstrate fixing capability synthetic cetch cycle would realistic application negatively affect overall stoichiometry fixation released side product formate dehydrogenase reaction however formate produced electrochemically use would carbon neutral example underline necessity systematic approach identify suitable regeneration module cell free production system minimal requirement regeneration module must fulfill certain stoichiometric possibly specification coupling actual production module lead optimal balancing cofactor entire system illustrates situation cetch cycle serve running example study mentioned synthetic cycle collection enzyme catalyzed reaction step assimilate form glyoxylate primary product since first conception improved many iteration study focus version includes also reaction combine glyoxylate externally provided acetyl coa produce end product malate cetch comprises enzyme catalyzed reaction thereof core reaction catalase reaction decomposing hydrogen peroxide produced side product cetch cycle water oxygen well two aforementioned reaction regenerating atp polyphosphate polyphosphate kinase nadph formate formate dehydrogenase leaving two reaction cofactor regeneration net stoichiometry cetch cycle read assuming external provision oxygen carbon dioxide cetch cycle thus requires one iteration provision atp nadph acetyl coa original work atp nadph regenerated two described mechanism whereas acetyl coa externally provided however since acetyl coa expensive consumption lead net accumulation coa thus potentially inhibitory effect longer batch run herein consider task find suitable regeneration module replenishes pool atp adp nadph nadp also acetyl coa coa special context cetch cycle demand addition carbon dioxide released would compromise ultimate goal cetch cycle namely carbon dioxide fixation malate allowed organic byproduct regeneration module production mandatory algorithm may choose given set possible typical substrate including glucose glycerol acetate others constraint render problem significantly harder ensures malate organic product cetch cycle coupled regeneration module simplify downstream processing herein present memo computational method find smallest metabolic module specified stoichiometric thermodynamic constraint memo support design cell free system various regard design cofactor regeneration module one particular application focus herein context memo take input universe metabolic reaction identifies smallest thermodynamically feasible regeneration module delivering cofactor specified stoichiometric requirement posed cetch cycle memo generically applicable based constraint based modeling technique demonstrate applicability cetch cycle example showing even case rather specific requirement metabolic regeneration module found reaction reaction universe use modified version bigg metacyc database reaction different compartment within membrane compartment removed use would complicate cell free production system apart application find regeneration module end demonstrate memo also used find entire cell free system integrated production pathway regeneration module ensuring balanced overall conversion application memo algorithm finding suitable regeneration module cell free operation cetch cycle mixed integer linear program calculating metabolic module following describe memo method compute given reaction database metabolic module fulfilling certain specification method based extended version optmdfpathway mixed integer linear program milp originally developed identify pathway highest thermodynamic driving force according max min driving force mdf definition given within given metabolic reaction network using optmdfpathway starting point ensures computed metabolic module balanced thermodynamically feasible maximal overall driving force mdf exceeding specified threshold however need extend optmdfpathway order enforce required stoichiometry metabolic module identified ensure find module term number reaction property furthermore original optmdfpathway implementation based standard gibbs free energy reaction extended formulation alternatively use gibbs free energy formation metabolite given metabolic network application reaction database consider following equation classical flux balance analysis fba problem reaction rate usual matrix comprises internal metabolite considered steady state assume network contains irreversible reaction reversible reaction split forward backward direction furthermore technical reason demand upper flux bound must finite constraint used add inequality constraint like yield constraint specify desired property importantly later also used incorporate desired stoichiometric requirement metabolic module context regeneration module required cofactor stoichiometry thermodynamic driving force reaction defined negative change gibbs free energy collected vector standard gibbs free energy change reaction available used thermodynamic parameter driving force reaction given transposed column reaction full stoichiometric matrix extends stoichiometric matrix internal metabolite external metabolite need steady state ideal gas constant temperature used determining gibbs free energy contains logarithmized metabolite concentration exact concentration value typically known one demand must comply certain concentration range alternatively written gibbs free energy formation metabolite standard gibbs free energy formation metabolite known thenotherwise value allowed assume arbitrary value within specified range bywhere sufficiently large constant using constraint together ensures thermodynamically infeasible cycle arise identified solution rate vector even hold true practically unspecified approach similar fba proposed noor preprocessing step determine minimum maximum value driving force depend concentration range value case constraint type present reaction associated binary variable must flux reaction achieved constraintsin order ensure minimal driving force reaction greater given value driving force inactive reaction zero flux taken account following constraint added optimization problem max set constraint always fulfilled reaction reaction must hold thus act demanded lower bound mdf solution finally order minimize number active reaction given solution objective functionis imposed subject relevant constraint solution deliver flux distribution given calculated logarithmized concentration vector active reaction driving force least enforced minimization number active reaction rate vector solution represent elementary flux vector efv also ref mean network full enumeration efvs computationally feasible optimal solution could identified screening set vector even ranking possible minimal solution could generated however herein deal large network thousand reaction possible instead optimal solution mixed integer linear programming milp problem posed continuous integer variable identified appropriate milp solver incorporation required stoichiometry regeneration module generally using memo find certain metabolic module stoichiometric input output requirement net conversion module must specified appropriately particular employing memo identify suitable cofactor regeneration module given cell free production system one need specify set possible substrate used certain stoichiometry cofactor regenerated allowable byproduct regeneration module set allowed substrate byproduct easily specified setting respective upper bound substrate uptake product excretion reaction either allowed substrate byproduct zero allowed compared classical metabolic network model often allow synthesis certain fermentation product typically even byproduct allowed regeneration module finally consider demanded net synthesis cofactor atp nad others need include appropriate demand pseudo reaction example provision atp regeneration module consumption cell free production system modeled including reaction consumes hydrolyzes atp yielding adp orthophosphate likewise provision regeneration module consumption production module nadh nadph may include reactionsandother cofactor metabolite regenerated included well certain application nad might occur byproduct production module case regeneration module would need replenish nad pool hence would specified reverse direction finally concrete requirement cofactor stoichiometry configured setting respective bound exchange reaction example demanded stoichiometric atp nadh ratio would enforced setting effectively fixing sometimes sum produced reduction equivalent must give certain number constraint incorporated reaction database universal network essential input memo metabolic network generally reaction universe database within metabolic module identified due intended use memo identify metabolic regeneration module cell free production system free compile enzymatic reaction step different organism hand assume use cellular compartment mitochondrion chloroplast within cell free production system possible avoided would add additional layer complexity therefore consider reaction involve metabolite different compartment likewise reaction involving quinone metabolite reside membrane taken account course constraint adapted relaxed certain application following describe setup two universal network model derived bigg metacyc database respectively bigg model fusion model present bigg database accessed february first step model successively merged time technical reaction exchange demand sink removed model merging mergetwomodels function cobra toolbox used function remove duplicate reaction checkduplicaterxn function extended new option recognizes duplicate reaction stoichiometry scalar factor also properly handle reaction reversibility next reaction involve metabolite different compartment removed reason described although metabolite id bigg model largely unique different formula different compartment mostly due different protonation state id semiautomatically disambiguated choosing either common formula making id explicitly distinct mass balance element well charge balance reaction determined unbalanced reaction removed metabolite occurring different compartment mapped onto one compartment information removed reaction duplicate produced process afterward merged extended checkduplicaterxn function finally reaction involve quinone metabolite reside membrane deactivated calculation resulting adapted bigg network model comprises metabolite reaction value mol metabolite retrieved far available equilibrator api applying mapping bigg metabolite id kegg id reaction involved metabolite known reaction reversibility restricted according minimal maximal driving force reversibility remaining reaction left defined bigg model calculation driving force set according together constraint form accordingly left model constructed flat file distribution metacyc version contains file compound dat metabolite metabolic reaction xml parsed purpose bigg model reaction kept whose metabolite come compartment compartment information metabolite removed duplicate reaction removed mass balance element well charge balance determined unbalanced reaction removed furthermore reaction involve metabolite without known value removed value metacyc given kcal mol remaining reaction calculated reaction reversibility restricted accordance minimal maximal driving force model reaction defined value constraint type used driving force accordingly left noted although value metacyc determined predecessor equilibrator method actual value reaction quite distinct adapted metacyc network model comprises metabolite reaction implementation availability http github com arb lab memo git http github com arb lab memo git calculation performed using dedicated function version cellnet analyzer including optmdfpathway function extended described section package matlab script file calculation model cobra format available following github repository cplex used milp solver calculation performed cluster node two intel xeon core processor ram computing regeneration module cetch cycle demonstrate applicability memo method employed together two adapted bigg metacyc reaction database see compute regeneration module perfectly complement cetch cycle precise stoichiometric requirement cetch cycle already described introduction section illustrated following constraint accordingly set memo optimization problem one iteration cetch cycle consumes nadph atp acetyl coa accordingly flux nadph consumption fixed nadh consumption reaction fixed zero flux consumption acetyl coa accounted introducing another artificial consumption reactionand fixing flux value computing regeneration module important precisely specify allowed end product apart cofactor requirement accumulation undesired byproduct may slow regeneration module possibly also actual production system also compromise economic viability whole process example due necessary separation main product byproduct downstream processing main product cetch cycle malate therefore allowed net synthesis metabolite regeneration module well thus malate exchange reaction introduced model without fixing flux synthesis regeneration module thus permitted mandatory additionally water oxygen exchanged environment since cetch cycle aim fix carbon dioxide permit net production carbon dioxide would compromise efficiency whole process furthermore bigg model proton also exchanged metacyc model charged metabolite balanced proton exchange reaction acetate exchanged occurs together one proton non exchange reaction charge balanced proton exchange flux bigg model reflects difference dissociated proton substrate product separately computed regeneration module simple cheap substrate yielding set distributed entry point central metabolism acetate glycerol glucose sorbitol formate xylose lactate methanol succinate lower bound thermodynamic driving force mdf set mol metabolite concentration allowed vary except bicarbonate lower upper bound set aimed calculate shortest regeneration module substrate computation time single optimization limited several case sufficient reach guaranteed optimum typically optimum becomes difficult prove increasing number reaction smallest regeneration module nonetheless even optimum proven within one usually get good solution evaluated together best bound minimum number reaction required solution decide whether may useful invest computation time try search smaller solution case solver neither able prove infeasibility problem able find feasible solution within case optimization might repeated different solver setting time limit extended see solution found http pub ac org doi suppl acssynbio 9b00434 suppl_file sb9b00434_si_001 xl result computation shown within given time frame cetch regeneration module found substrate network glucose glycerol sorbitol xylose lactate methanol found solution require reaction excluding exchange consumption reaction thus case le reaction step entire cetch cycle network offered solution size shorter metacyc contrast solution found either network substrate acetate succinate formate metacyc network flux variability analysis without thermodynamic constraint already reveals solution possible formate shortest regeneration module found glycerol substrate require reaction proven solver optimal network one metacyc solution size shown solution glycerol oxidized two step glycerate total yield two nadph glycerate phosphorylated phospho glycerate backward direction phosphoglycerate phosphatase interestingly phosphatase kcal mol thus favor actually kinase direction converted enolase phosphoenol pyruvate pep pathway split two branch first branch pep dephosphorylated pyruvate acetyl coa nadh produced second branch pep carboxylated oxaloacetate concomitant atp formation consumption nadh first branch oxaloacetate converted malate http pub ac org doi suppl acssynbio 9b00434 suppl_file sb9b00434_si_001 xl bigg network one two solution reaction solution shown three molecule glycerol concomitant nadph production converted dihydroxyacetone phosphorylated dihydroxyacetone phosphate dhap pathway split two branch first branch two dhap converted methyglyoxal pyruvate nadph produced two separate reaction pyruvate converted acetyl coa malate respectively second branch dhap compound converted glycerol phosphate atp glycerol produced therefore regeneration module contains cyclic sub pathway glycerol constituted reaction glycd r0242 r0202 glyk however constitute thermodynamically infeasible cycle net stoichiometry empty although partial overall reaction mol indeed become negative suitable metabolite concentration profile compatible concentration bound used calculation http pub ac org doi suppl acssynbio 9b00434 suppl_file sb9b00434_si_001 xl analyze regeneration module calculated elementary mode within module revealed two solution described steady state solution within regeneration module however also regeneration module contain one elementary steady state solution therefore potentially realize multiple cofactor regeneration requirement example consider second glycerol solution found metacyc model two elementary mode exist difference mode first mode phosphorylation two glycerate molecule requires atp reaction whereas atp consumed second mode reaction first mode thus atp nadph acetyl coa ratio second mode produce ratio mode operate together ratio result desired ratio enforced setting respective flux cofactor exchange reaction computing module variability two mode may first glance appear disadvantageous noted coupling production regeneration module operation production module push net stoichiometry regeneration module toward consumed net production module moreover regeneration module consisting multiple elementary mode advantage variation flux ratio mode compensate potential fluctuation atp level caused spontaneous hydrolysis thereby regeneration module may act similar manner atp rheostat described ref glycerol solution discussed metacyc solution actually one highest mdf substrate mol metacyc solution mdf mol similar bigg solution mol therefore thermodynamic standpoint metacyc solution would preferable suggested mdf mol sufficient allow large net flux participating reaction show substrate network combination considered threshold reached solution calculated far however criterion could enforced calculation setting value desired minimum threshold following glycerol methanol substrate allows next smallest regeneration module reaction metacyc reaction bigg exemplarily discus first solution found metacyc bigg solution first step methanol uptake conversion formaldehyde concomitant formation nadh formaldehyde bound tetrahydrofolate specie methyl group part methylated tetrahydrofolate methyl group released glycine consumption released later step nadh part glycine combine remaining methylated tetrahydrofolate produce serine remaining glycine converted glyoxylate acetyl coa malate using different reaction two model cetch cycle fusion glyoxylate acetyl coa take place well conceivable enzyme involved could perform function combined reaction regeneration module thereby reducing number additional regeneration enzyme needed regeneration module serine converted pyruvate basis acetyl coa formation pyruvate dehydrogenase also solution include nadh nadph transhydrogenase nonetheless difference metacyc solution requires one reaction le atp regeneration occurs together malate formation nadph regeneration pyruvate dehydrogenase reaction bigg regeneration coupled alpha keto glutarate glutamate glutamine conversion cycle furthermore bigg solution requires methanol yield malate metacyc solution us methanol produce malate solution relatively low mdf mol metacyc mol bigg solution three carbohydrate glucose xylose sorbitol last allows smallest regeneration module reaction network making preferable substrate three despite fact acetyl group must generated cetch cycle acetate substrate turned promising neither network solution found formate alone cannot used regeneration task probably highly oxidized nature restriction net must produced succinate solution found either despite fact conversion malate quite easily render required reduction equivalent lactate four acid regeneration module found metacyc smallest module contains reaction bigg need reaction smallest cetch regeneration module number reaction largest thermodynamic driving force mdf found different substrate metacyc bigg network number reaction smallest module number reaction smallest module found proven infeasible computation time limited one hour per solution solution per substrate computed unit mdf value metacyc model converted kcal mol mol http pub ac org doi suppl acssynbio 9b00434 suppl_file sb9b00434_si_001 xl cetch regeneration module size found glycerol substrate metacyc database metacyc solution glycerol including cetch cycle overall reaction glycerol malate proton reaction metacyc identifier glycerol dehydrogenase nadp rxn rxn phosphoglycerate phosphatase rxn 2pgadehydrat rxn phosphoenolpyruvate phosphatase rxn pyruvdeh rxn pepcarboxykin rxn malate deh rxn red number indicate relative flux needed deliver cofactor required stoichiometry cetch cycle indicated blue http pub ac org doi suppl acssynbio 9b00434 suppl_file sb9b00434_si_001 xl cetch regeneration module size found glycerol substrate bigg database bigg solution glycerol including cetch cycle overall reaction glycerol malate proton reaction bigg identifier glycdy r0242 r0202 glykm mgsa alr pdhm me_x red number indicate relative flux needed deliver cofactor required stoichiometry cetch cycle indicated blue http pub ac org doi suppl acssynbio 9b00434 suppl_file sb9b00434_si_001 xl cetch regeneration module size found glycerol substrate metacyc database metacyc solution glycerol including cetch cycle overall reaction glycerol malate proton reaction metacyc identifier glycerol dehydrogenase nadp rxn rxn phosphoglycerate phosphatase rxn gki rxn 2pgadehydrat rxn pepdephos rxn pyruvdeh rxn rxn red number indicate relative flux needed deliver cofactor required stoichiometry cetch cycle indicated blue thermodynamics combined production cetch regeneration module http pub ac org doi suppl acssynbio 9b00434 suppl_file sb9b00434_si_001 xl mdf discussed given stand alone regeneration module decrease module integrated cetch cycle however straightforward calculate resulting mdf integrated system taking union regeneration module reaction without consumption pseudoreactions cetch reaction recalculating mdf result shown turn regeneration module shown still thermodynamically feasible combined cetch cycle although reduced mdf however several solution mdf combined cetch cycle mean would suitable regeneration module context possible exclude solution milp optimization directly enforcing cetch reaction active required flux using instead consumption pseudoreactions http pub ac org doi suppl acssynbio 9b00434 suppl_file sb9b00434_si_001 xl regeneration module thermodynamically feasible combined cetch cycle also calculated concentration range participating metabolite necessary keep mdf metabolite listed whose lower upper concentration bound differs default concentration bound result potentially useful assessing overall practicality pathway regeneration module multiple substrate alternative cofactor requirement http pub ac org doi suppl acssynbio 9b00434 suppl_file sb9b00434_si_001 xl far considered single input also possible multiple substrate uptake open together see whether would allow smaller regeneration module therefore calculated solution network substrate uptake open turn solution require reaction mean setting multiple substrate make smaller regeneration module possible fact bigg model solution use glycerol single substrate metacyc solution also use glycerol utilize acetate acetate formate interestingly neither acetate formate usable single substrate might useful conjunction glycerol http pub ac org doi suppl acssynbio 9b00434 suppl_file sb9b00434_si_001 xl result fulfill requirement cetch cycle earlier cetch version different cofactor requirement instance second reductive carboxylation step acrylyl coa methylmalonyl coa replaced atp dependent carboxylation step propionyl coa methylmalonyl coa cetch one iteration modified cycle requires nadph atp accoa instead nadph atp accoa cetch repeated single substrate calculation new requirement ass change minimal regeneration module size result show depending network substrate minimal module size differ one reaction bigg model minimal size increase slightly glycerol lactate remains unchanged substrate metacyc model size decrease glucose sorbitol methanol increase xylose lactate thus whether trading one nadph one atp favorable depends substrate used regeneration module computing module integrated production regeneration http pub ac org doi suppl acssynbio 9b00434 suppl_file sb9b00434_si_001 xl http pub ac org doi suppl acssynbio 9b00434 suppl_file sb9b00434_si_001 xl far focus memo regeneration module cofactor often required cell free production system however memo general search metabolic module long module specification formulated type constraint used memo fact memo also possible design entire production system desired input output stoichiometry production cofactor regeneration integrated computing integrated module come advantage thermodynamic infeasibility cannot arise merging production regeneration module seen regeneration module computed cetch cycle example consider production monoterpene limonene glucose recently achieved cell free system particular conversion comprises reaction step produce one mol limonene per three mol glucose supporting figure original ref basically consists two part glycolysis convert glucose acetyl coa cofactor mevalonate pathway us acetyl coa together cofactor produce limonene glycolysis produce reduction equivalent needed mevalonate pathway system designed incorporate purge valve remove excess reduction equivalent noxe nadh oxidase produce balanced amount nadh nadph combined use nad specific nadp specific glyceraldehyde phosphate dehydrogenase checked whether system solution space metacyc network fixing flux glycolysis mevalonate pathway purge valve value required production one limonene three glucose lead solution ref show limonene production system principle found memo look alternative production system specified minimal yield limonene per glucose sole constraint calculated smallest solution found solution require reaction thus le original system however mdf original system higher kcal mol mol best mdf identified alternative solution kcal mol mol one computed solution similar original system us many reaction glycolysis others mix glycolytic reaction entner doudoroff pathway also variation cofactor production consumption tied together case excess reduction equivalent removal proceeds nad oxidase work presented memo generic approach identify smallest metabolic module fulfilling specified stoichiometric thermodynamic constraint although memo many possible application herein focused use finding regeneration module cell free production system exemplified cetch cycle memo flexible taking account diverse requirement regeneration two cofactor plus one acetyl group specific stoichiometry net production permitted net synthesis malate allowed minimum threshold mdf able enumerate multiple solution reasonable time also large universal network method may hold similar capability far used design cell free regeneration module optstoic predefined reactant product two step approach identifies first step overall conversion maximize given objective function maximization product yield calculation first step solely based stoichiometric balance gibbs energy change reactant product without taking account reaction step actual metabolic pathway network generating overall conversion found first step identified second step searching suitable combination reaction given reaction database applicability approach proven several case study example finding alternative pathway metabolic network approach simpler requires one single optimization step identify stoichiometrically thermodynamically feasible solution fact overall conversion found first step optstoic might corresponding pathway reaction database used second step moreover even stoichiometrically balanced pathway identified second step optstoic may happen thermodynamically infeasible within defined concentration range intermediate metabolite optstoic test preprocessing step separately reaction whether proceed certain direction given metabolite concentration range however ensure metabolite concentration vector within specified concentration range exit reaction found pathway active required direction memo directly account thermodynamic feasibility mdf approach even allows one set lower threshold mdf thus providing flexible approach integrated search metabolic module regeneration module found cetch cycle appear interesting contrast original system avoid accumulation side product use expensive compound acetyl coa module found glycerol substrate especially promising would require metabolic reaction enzyme even le half enzyme used far cetch cycle analysis glycerol solution also revealed module although identical net stoichiometry may nevertheless different property apart thermodynamic driving force concern particular phenomenon module may either consist single elementary mode combination mode first case demanded stoichiometry exactly fulfilled substrate converted module second case demanded stoichiometry respective module however alternative output stoichiometry would also possible coupling production regeneration module operation production module push net stoichiometry regeneration module toward production module however regeneration module consisting multiple elementary mode advantage balance spontaneous loss decay cofactor oxidation nad hydrolysis atp long run may lead problem module fixed stoichiometry single mode flexible regeneration module thus similar desired functionality recently published atp rheostat purge valve although application focus herein regeneration module memo much general used search type cell free even intracellular metabolic module well one additional application cell free system used example limonene synthesis demonstrate memo also support design entire cell free production system production regeneration instead fixing first production module finding suitable regeneration module memo also directly one step identify smallest integrated cell free system desired input output stoichiometry overall together adapted metacyc bigg master network memo approach thus provides powerful flexible framework designing cell free production system likewise used detecting designing intra cellular metabolic module desired property