A central tenet of engineering involves characterizing and verifying complex systems in a simplified environment (). Electronic circuits are tested on a breadboard to verify circuit design and aircraft prototypes are tested in a wind tunnel to characterize their aerodynamics. A simplified environment does not exist for characterizing and engineering complex biological networks, requiring system analysis to be conducted primarily in cells. Performing extensive, quantitative and rapid network characterization in cells is limited due to difficulties associated with measuring parts, components, and systems in complex and ill-defined cellular hosts (). Particular problems include: I) lack of precise control over network component concentrations, II) unpredictable interactions and integration with host cell processes, III) cumbersome molecular cloning, and IV) technical challenges and limited throughput associated with single cell measurements. Cell-free systems promise to be efficient and effective tools to rapidly and precisely characterize native and engineered biological systems to understand their operating regimes. Reconstituted biochemical systems have allowed the study of complex dynamic and self-organizing behaviors outside of cells such as switches, oscillators and pattern-forming regulatory networks (; ; ). Networks assembled from simplified biochemistries such as oligonucleotide polymerization and degradation reactions can produce complex behaviors such as oscillations and provide insights into the working principles of biological regulatory systems (; ). While a high degree of abstraction and simplification makes it easier to analyze the underlying principles of biological networks, it becomes challenging to implement more complex networks and to directly transfer results and networks between the cell-free and the cellular environment. Implementation of genetic networks in transcription-translation reactions has gained considerable traction because they rely on the cellular biosynthesis machinery and are compatible with a broad range of regulatory mechanisms. A growing number of synthetic gene networks with increasing complexity have been implemented in cell-free transcription-translation systems (; ; ; ). We and others have recently shown that oscillating genetic networks can be implemented in vitro outside of cells using microfluidic devices (; ). However, whether these cell-free systems reflect the cellular environment sufficiently well to be of significance to biological systems engineering and analysis remains an open question. A few studies investigated whether individual components such as promoters and ribosomal binding sites express at comparable strengths in cell-free systems and in cells (; ). Comparisons of the behavior of genetic networks in cell-free systems and in cells are still limited to a few examples such as repressor-promoter pairs (; ) and a RNA transcriptional repressor cascade (). Thus far, however, it has not been shown whether genetic networks with complex dynamic behavior function similarly in cell-free and cellular environments. Here, we demonstrate that cell-free systems can be used to characterize and engineer complex dynamic behaviors of genetic networks by implementing and characterizing novel 3-node, 4-node, and 5-node negative feedback architectures in vitro. We go on to show that our 3- and 5-node oscillator networks were functional in cells and that their periods were comparable to those observed in the cell-free system, indicating that the cell-free system accurately emulated the cellular environment for the complex dynamic networks developed and tested in this study. Cells carrying our 3-node networks oscillated on a population level, which was previously only observed in actively synchronized oscillators using quorum-based coupling (). The in vitro and in vivo oscillations of our 5-node negative feedback networks confirm theoretical predictions on biomolecular ring oscillators and represent the largest synthetic negative feedback networks implemented simultaneously in cell-free systems and in cells. Cell-free systems allow rapid prototyping of novel genetic networks Cell-free systems allow rapid and extensive characterization of biological systems. Schematic representation of the design-build-test cycle using the cell-free system (top). A design is first modeled to obtain intuition about the architecture. Parts are then assembled on linear DNA without cloning, and tested in vitro. With functional parts, circuit variants can then be tested and working circuits can be extensively characterized. Final circuits are cloned onto plasmids and implemented in vivo. For a specific example of the cell-free system applied to engineering a 5-node oscillator network see . Bottom shows a comparison of the time required for testing a genetic circuit by the cell-free approach versus traditional engineering in cells. http://dx.doi.org/10.7554/eLife.09771.003 Comparison of a Test Cycle in TX-TL vs. a Test Cycle in traditional prototyping. Shown are time estimates per step for each process. Assumption is that modular PCR fragments exist that can be assembled into Linear DNA. Parts used from  Supplementary Table S2. http://dx.doi.org/10.7554/eLife.09771.004 Engineering a 5-node negative feedback oscillator using the cell-free framework. A novel network architecture, which shows the intended behavior in silico is first assembled on linear DNA using in vitro characterized parts. Initial circuit testing on linear DNA is advantageous because: (I) linear DNA can be synthesized in a few hours, (II) it allows rapid testing of multiple circuit variants, (III) and allows expression strengths of network components to be easily tuned by varying their relative concentrations. A functional circuit can then be further characterized to identify parameter ranges that support the desired behavior and to experimentally test hypotheses. If an in vivo implementation is intended, the cloned plasmids are verified for correct function in vitro before in vivo implementation. http://dx.doi.org/10.7554/eLife.09771.005 Cell-free expression systems prepared from an  extract (‘TX-TL’) can preserve the endogenous  transcription machinery as well as native mRNA and protein degradation mechanisms (; ; ; ). We have recently described a microfluidic nano-reactor device capable of emulating cellular growth and division. A discontinuous flow of TX-TL reagents through miniaturized reactors at rates matching natural  dilution rates keeps transcription and translation rates at constant steady state levels and removes reaction products, which is critical for the implementation of dynamic genetic networks (). Using a TX-TL expression system in the microfluidic nano-reactor device thus provides a simplified and controlled environment, which can be applied to rapid prototyping () and characterization of genetic networks (, top, ). In addition, TX-TL provides significant time savings over traditional prototyping in cells (, bottom, ). Linear DNA can be used in  of plasmid DNA, and the DNA source does not require specific compatible origins of replication or antibiotic markers. Therefore, DNA can be assembled completely in vitro based on premade modules within 3 hr (). Importantly, the time needed does not scale with circuit complexity, as each circuit component can be added as a separate linear template, which can be easily replaced or varied in concentration in following design-build-test cycles. This is particularly advantageous for large circuits, where dosage or part changes require extensive re-cloning of plasmids for cellular testing, but no additional time for in vitro testing. We estimate that prototyping a genetic circuit in TX-TL requires 4 to 78 hr, as opposed to prototyping in  which requires a minimum of 52 hr to several weeks. Cell-free characterization of a synthetic in vivo circuit Cell-free repressilator characterization. () Application of cell-free systems to characterize the original repressilator (Elowitz and Leibler, 2000) and a modified version with a point mutation in the CI promoter (O2*) located in one of the binding sites of the CI repressor. () Expression from the three promoters of the repressilator and the O2* version at different dilution times. () Oscillation periods of the repressilator as a function of dilution time. In the O2* version sustained oscillations were supported in a narrower range of dilution times as compared to the original repressilator network. () Phase portrait of repressilator oscillations starting from different initial TetR and CI repressor concentrations. http://dx.doi.org/10.7554/eLife.09771.006 Oscillation parameter regime for a 3-node repressilator network in terms of dilution time and synthesis rates. Transcription (TX) and translation (TL) rates supporting oscillations at different dilution times for a 3-node repressilator network. Synthesis rates resulting from the plasmid concentrations used in  are indicated by broken lines. http://dx.doi.org/10.7554/eLife.09771.007 Existence of oscillations and periods for a 3-node repressilator network in terms of dilution time. We experimentally studied the effect of varying transcription rates on the repressilator network by measuring the range of dilution times that supported sustained oscillations. Transcription rates could be rapidly adjusted by varying DNA template concentrations of the repressilator plasmid. For different DNA template concentrations, oscillations occurred in different ranges of dilution times. Markers at a period of 0 hr indicate a stable steady state, and shaded regions highlight dilution times that did not support oscillations for a specific DNA template concentration. A simulation of the repressilator network produced similar results but did not capture loading effects on the biosynthetic machinery for high DNA template concentrations. http://dx.doi.org/10.7554/eLife.09771.008 Oscillation parameter regime for a 3-node repressilator network in terms of dilution time and repressor binding affinity Increasing the K value, the repressor concentration needed for half-maximal repression, of one repressor, as for CI repressor in the O2* repressilator version, reduces the range of dilution rates that support oscillations as indicated by our experimental results (). http://dx.doi.org/10.7554/eLife.09771.009 3-color in vitro run of repressilator at t = 47 min. Shown on the right are individual channels of pCI-Citrine-ssrA, pTetR-Cerulean-ssrA, and pLacI-mCherry-ssrA. These are combined in the composite at the left. http://dx.doi.org/10.7554/eLife.09771.010 We asked whether this cell-free system could be used to run and characterize an existing synthetic in vivo circuit and chose to test the repressilator () as a model circuit. We successfully implemented the original repressilator network in our cell-free system and observed long-term sustained oscillations with periods matching the in vivo study (, ). We compared the original repressilator to a modified version containing a point mutation in one of the CI repressor binding sites in the promoter regulating LacI (). This mutation increases the repressor concentration necessary for half-maximal repression (), and reduces cooperativity (). At long dilution times (t) both circuits oscillated, but with shifted absolute reporter protein concentrations (). At decreasing dilution times amplitudes decreased and periods became faster with a linear dependence on t. Faster dilution times, however, did not support oscillations for the modified network (). Experimentally, the range of dilution times supporting oscillations can serve as a measure for robust oscillator function, which generally diminishes with decreasing synthesis rates or when binding of one repressor to its promoter is weakened as in the O2* mutant (–). Initial conditions can influence the dynamic behavior of nonlinear systems but are difficult to control in cells. In order to explore the dynamics of the repressilator in response to different initial conditions we varied the starting concentrations of TetR and CI repressor. For all conditions tested the system quickly approached limit cycle oscillations and was invariant to initial conditions (). This analysis of the repressilator network in phase space provides an example for an experimental characterization that would be challenging or impossible to perform in a cellular environment. Engineering novel negative feedback circuits Cell-free prototyping and characterization of novel negative feedback circuits. () Transfer functions of the repressilator repressor-promoter pairs (top) and TetR homologs (bottom). The TetR repressor was tested against two different promoters: the promoter used in the repressilator (top panel) and the J23119-TetR promoter () (bottom panel). Lines are Hill function fits. () Oscillations of a novel 3-node ring oscillator (3n1) constructed on plasmid DNA. () Two versions of a second 3-node ring oscillator (3n2) on linear DNA were used to study the effect of ClpXP degradation on oscillator function. One version was ssrA-tagged on all repressor genes while the other version did not carry degradation tags on the repressors. The same reporter with a medium-strength degradation tag was used in both versions. () A 4-node cyclic negative feedback network on linear DNA has two stable steady states that depend on the initial conditions. IPTG switched the network into the state where pPhlF was on and pTetR off. An initial pulse of aTc resulted in the opposite stable steady state. () Oscillations of two novel 5-node ring oscillators (5n1, 5n2) constructed on linear DNA. () 5-node ring oscillators oscillate with longer periods than 3-node ring oscillators, as predicted by simulations (Materials and methods) and shown by experimental data. http://dx.doi.org/10.7554/eLife.09771.011 Parameter values of repressor – promoter pairs were determined by fitting to the Hill equation (Materials and methods). Promoter sequences were taken from the references cited. http://dx.doi.org/10.7554/eLife.09771.012 Measurement of transfer functions. Transfer functions of the repressor – promoter pairs were determined using the cell-free framework (Materials and methods). Shown are experimental results and analysis using LacI - pLacI(r) as an example. Synthesis rates from the promoter of interest could be followed by Citrine fluorescence. Varying repressor template DNA concentration over time allowed us to determine synthesis rates at different repressor concentrations. Cerulean was co-expressed with the repressor and served as reporter for repressor concentration. Transfer functions were obtained by plotting Citrine synthesis rates from highest to lowest repressor concentration (grey shaded area) against total Cerulean concentration and were identical for different dilution times set in the nano-reactor device. http://dx.doi.org/10.7554/eLife.09771.013 Comparison of relative promoter strengths in vitro and in vivo. Comparison of relative promoter strengths (v), determined in vitro and in vivo. pCI(r), pTetR(r), and pLacI(r) are from (Elowitz and Leibler, 2000); pTetR is from (Stanton et al., 2014) and pLacI from (Lutz and Bujard, 1997). Error bars indicate standard deviations of three replicates. http://dx.doi.org/10.7554/eLife.09771.014 Comparison of half-maximal repressor concentrations needed for repression in vitro and in vivo. Comparison of K values measured in vitro in this study with K values determined in vivo by Stanton et al. (Stanton et al., 2014). K values were normalized to the K of TetR. http://dx.doi.org/10.7554/eLife.09771.015 The cell-free system also allows rapid characterization of individual network components. We measured the transfer functions of repressor-promoter pairs in the repressilator network (, –, ) and found that the network is symmetric in terms of transfer functions. In the CI promoter O2* mutant we observed the expected shift in value and decreased steepness of the transfer function. We also characterized TetR repressor homologs as building blocks for novel negative feedback circuits () and with the exception of QacR observed similar transfer functions as observed in vivo () (). Using three new repressors, BetI, PhlF and SrpR, we constructed a novel 3-node (3n) circuit, 3n1, and observed high-amplitude oscillations over a broad range of dilution times with the same dependence of amplitude and period on t as for the repressilator (). In our characterization of the repressilator network and the 3n1 oscillator we found dilution rates to be critical for the existence, period and amplitude of oscillations. Protein degradation is similar to dilution in that it results in removal of repressor proteins. In order to study the effect of degradation we constructed a second 3n network (3n2) using TetR, PhlF and SrpR repressors on linear DNA. One version of the circuit used strong ssrA ClpXP degradation tags, while the second used untagged repressors. We observed oscillations for both circuits (). However, the circuit without ssrA-tag mediated protein degradation exhibited slower oscillations, which extended to lower dilution times, showing that protein degradation, just like dilution, affects oscillator function and period. Effects of ClpXP-mediated protein degradation, which have been shown to be important for existence and frequency of oscillations in vivo (; ), can thus be emulated in a cell-free environment. We characterized the repressilator () and the novel 3n1 network () on plasmid DNA, reasoning that this is the closest approximation to the situation in a cell and because promoter strengths compare better when measured on a plasmid (; ). However, for a more rapid analysis of novel networks and network variants it is advantageous if laborious cloning steps are not required to obtain initial results on circuit performance. Construction and comparison of two 3n2 network variants, which only required a few PCR reactions to synthesize the linear DNA templates, showed that it is possible to go from theoretical design of a circuit to first experimental results in a very short timeframe (). Next, we went on to test this concept for novel and more complex network architectures. Theory predicts that ring architectures built from an odd number of repressors oscillate, while even-numbered architectures have stable steady states (; ). We experimentally built and tested a 4-node circuit from LacI, TetR, PhlF and SrpR on linear DNA. Initial pulses of LacI inducer IPTG or TetR inducer aTc allowed us to switch expression into either one of the two stable steady states (). Stable steady states were reached after an initial adjustment phase of 5 to 10 hr and remained stable until the experiment was terminated after 22 hr. These results show that non-oscillating networks also function in the cell-free environment and that the oscillations we observe for the 3-node networks are determined by network architecture and not established by particular reaction conditions in the microfluidic reactor. Encouraged by the robust oscillations observed in the 3n networks and the expected behavior of the 4-node bistable switch, we built two 5-node ring networks (5n) to test our prototyping environment on another novel synthetic network architecture (). We expected these circuits to oscillate, as they were built from an odd number of repressors. Despite their considerable complexity both circuits indeed oscillated over a broad range of dilution times. The period of the 5n networks (up to 19 hr) was significantly longer than that of the 3n networks (up to 8 hr). Comparing all ssrA-tagged 3n and 5n ring architectures, we show that the observed periods could be accurately predicted for all four networks by computational simulations (). Our cell-free system allows characterization of complex networks from rapid testing on linear DNA to verifying networks cloned onto a single plasmid, which is the closest approximation to cellular implementation (). Transfer of cell-free prototyped 3- and 5-node oscillators to Novel 3-node and 5-node ring oscillators in cells. () Time series traces of 3-node ring oscillators running in  (mother machine). Single trap traces of 3n1 and 3n2 observed for 36 hr in vivo using a strong pPhlF sfGFP-ssrA reporter and a representative image from an ‘on’ and ‘off’ state of oscillation. Scale bar: 5 µm. () Time series traces of 5-node ring oscillators running in  (mother machine). Single trap traces of 5n1 and 5n2 observed for 72 hr in vivo using a weak pPhlF sfGFP-ssrA reporter. () 3n1 displays population-wide oscillation pulses in vivo (CellASIC). Time series micrographs of 3n1 under a strong pPhlF sfGFP-ssrA reporter every 160 min; inset shows individual cells of the initial microcolony. Scale bar: 10 µm and 5 µm (inset). () Relationship between period and division time in vivo. Left, 3n1 in vivo under a strong pPhlF sfGFP-ssrA reporter. The in vitro data is shown for comparison. Each point in the in vivo data corresponds to the period and division time from aCellASIC experiment run under different media type and flow rates. Right, 5n2 in vivo under aweak pPhlF sfGFP-ssrA reporter. In vivo periods determined at 29ºC and 21ºC growth temperature in mother machine experiments. Boxes represent the inner quartile range with the median. () Influence of reporter concentration on oscillation periods by competing for ClpXP degradation. Left, with constant amounts of ClpXP the reporter concentration affects repressor degradation and thus oscillation period. Histograms of the periods observed with a weak and a strong pPhlF sfGFP-ssrA reporter for both 3n1 and 5n2 run in the mother machine. Dashed lines indicate the medians. http://dx.doi.org/10.7554/eLife.09771.016 Robust oscillations of 3-node and 5-node oscillators in vivo. 3-node (top) and 5-node networks (bottom) oscillate with periods that depend on the network size in vivo. Shown are the distributions of observed period lengths with medians indicated by dashed lines. Both 3-node and 5-node networks exhibited robust oscillation with all growing cells oscillating for the 3-node networks and more than 95% of growing cells oscillating for the 5-node networks (defined as at least two distinct oscillation peaks per trace). Shown are four example traces for all oscillators in addition to the ones shown in . Both 3-node networks were analyzed using a strong pPhlF sfGFP-ssrA reporter and the two 5-node networks were analyzed using a weak pPhlF sfGFP-ssrA reporter. http://dx.doi.org/10.7554/eLife.09771.017 Population-level oscillations of 3n2 oscillator in vivo. 3n2 oscillator displays phase synchrony in vivo. 3n2 is run under a strong pPhlF sfGFP-ssrA reporter in the CellASIC microfluidic device. Scale bar: 10 µm. http://dx.doi.org/10.7554/eLife.09771.018 Three-color oscillations and population-level oscillations of 3n2 oscillator in vivo. 3n2 displays phase synchrony observing 3 reporters simultaneously. Reporters are a strong pPhlF Citrine-ssrA, pTetR mCherry-ssrA, and pSrpR Cerulean-ssrA. Shown is one oscillation cycle. Scale bars: 10 µm. http://dx.doi.org/10.7554/eLife.09771.019 Original repressilator and OR2* mutant repressilator do not show population-level oscillations. Original repressilator and O2* repressilator do not show phase synchrony. These are run under pTetR(r)-eGFP(ASV) in M9 minimal media; oscillations were not supported in LB. Scale bars: 10 µm. http://dx.doi.org/10.7554/eLife.09771.020 3n1 in mother machine, single trap. 3n1 using a pPhlF-BCD20-sfGFP-ssrA (strong) reporter is run in the mother machine at 29ºC in LB. http://dx.doi.org/10.7554/eLife.09771.021 3n2 in mother machine, single trap. 3n2 using a pPhlF-BCD20-sfGFP-ssrA (strong) reporter is run in the mother machine at 29ºC in LB. http://dx.doi.org/10.7554/eLife.09771.022 Run of a panel of 3n2 oscillators in mother machine, using pPhlF-BCD20-sfGFP-ssrA (strong) reporter. http://dx.doi.org/10.7554/eLife.09771.023 To validate our cell-free approach we cloned the 3n1 and 3n2 networks onto low-copy plasmids and co-transformed each with a medium-copy reporter plasmid into -JS006  (). When tested on a microfluidic device (mother machine ()), both 3n oscillators showed regular oscillations with periods of 6 ± 1 hr for at least 30 hr (, ,). Both oscillators were surprisingly robust as all cells undergoing healthy cellular division oscillated (n=71) (, ). 5n1 using a pPhlF-BCD22-sfGFP-ssrA (weak) reporter is run in the mother machine at 29ºC in LB. http://dx.doi.org/10.7554/eLife.09771.024 5n2 using a pPhlF-BCD22-sfGFP-ssrA (weak) reporter is run in the mother machine at 29ºC in LB. http://dx.doi.org/10.7554/eLife.09771.025 Run of a panel of 5n2 oscillators in mother machine, using pPhlF-BCD22-sfGFP-ssrA (weak) reporter. http://dx.doi.org/10.7554/eLife.09771.026 We next turned to testing our 5n oscillators in vivo. Like the 3n networks we cloned both 5n oscillators onto low-copy number plasmids to transfer the two networks we had initially prototyped on linear DNA () into .  shows the complete cell-free prototyping cycle for the 5n1 oscillator from design by testing on linear DNA to validation of the final cloned oscillator plasmid. In  5n1 was not viable when co-transformed with a high expression-strength reporter, but was viable with a low expression-strength reporter. Specifically, 5n1 with a high expression-strength reporter caused slow growth and high cell death rates when run on the mother machine – we hypothesize that this is due to loading effects from high protein production, as decreasing the reporter expression strength resolved cell viability issues (). When tested with a low expression-strength reporter both 5n oscillators showed robust oscillations in  that were maintained for at least 70 hr, and over 95% of all analyzed traps containing healthy cells oscillated (n=104). In addition, both 5n networks oscillated with similar periods: 8 hr for 5n1, and 9 hr for 5n2 (, , –). We also tested both 3n oscillators on a CellASIC system, which allows planar single-layer colony formation. Starting from a single cell we observed striking oscillation pulses of the entire growing microcolony (, , ,). These population level pulses were also apparent when using three different fluorescent reporters simultaneously (, ). We did not observe population level oscillations in either the original repressilator, the O2* mutant () or the 5n networks. Synchronized oscillations were not reported with the original repressilator (), and have only been observed in oscillators using intercellular communication (; ). In contrast to these quorum-sensing mechanisms that can actively couple and synchronize oscillator states (; ) we do not believe the population-wide in-phase oscillations we observed are due to an active coupling mechanism. We hypothesize that the population-level oscillations of the 3n1 and 3n2 networks are due to increased repressor concentrations as compared to the original repressilator network, which increases the inheritance of the period phenotype and minimizes the rapid de-phasing expected from stochastic cellular protein fluctuations (). However, a quantitative characterization of this slow de-phasing phenotype requires more in depth understanding of stochastic effects in vivo. 3n1 in CellASIC. 3n1 using a pPhlF-BCD20-sfGFP-ssrA (strong) reporter is run in CellASIC. This video corresponds to . Conditions: 29º°C, LB media, 12.5% lamp intensity, 200 ms exposure, 2 psi flow rate. http://dx.doi.org/10.7554/eLife.09771.027 3n2 in CellASIC. 3n2 using a pPhlF-BCD20-sfGFP-ssrA (strong) reporter is run in CellASIC. This video corresponds to . Conditions: 29ºC, LB media, 12.5% lamp intensity, 200 ms exposure, 2 psi flow rate. http://dx.doi.org/10.7554/eLife.09771.028 3n2 with 3-color output run in CellASIC. 3n2 using a pPhlF-BCD20-Citrine-ssrA, pTetR-BCD20-mCherry-ssrA, pSrpR-Cerulean-ssrA (strong) reporter is run in CellASIC. This video corresponds to Figure S5B. Conditions: 29 C, LB media, 12.5% lamp intensity, 200 ms exposure for Citrine and Cerulean (500 ms for mCherry), 2 psi flow rate. http://dx.doi.org/10.7554/eLife.09771.029 Because cells stayed synchronized, we were able to analyze the population as a whole to make general conclusions of oscillator behavior. We varied dilution time by using different media conditions and media flow rates, and found a direct relationship between division times and period, consistent with the cell-free data collected. Oscillation periods of the 5n oscillators were also consistent with our cell-free results and showed a similar dependence on doubling time (). Finally, we compared 3n1 and 5n2 with weak and strong reporters in vivo to analyze the effect of protein degradation on the oscillator period. We theorized that given a constant concentration of ClpXP, stronger reporters would result in more ClpXP loading, thereby slowing the period of oscillation. ClpXP is thought to influence oscillation dynamics in vivo in this manner (). We found that in the mother machine, both the period distributions of 3n1 and 5n2 showed this characteristic (), which reflects our cell-free findings of differential –ssrA tag dependent period length (). We showed that synthetic dynamic networks can be readily implemented, characterized, and engineered in a cell-free system and subsequently transferred to cellular hosts (). Our results demonstrate the utility of this approach for biological systems engineering and component characterization. The cell-free system resulted in the experimental validation of previous theoretical predictions on even- and odd-numbered cyclic negative feedback circuits (; ) and enabled the in vivo implementation of robust 5-node genetic oscillators. The cell-free environment can thus fill the gap between theoretical network design and in vivo implementation of biological systems and provide a simplified and controlled environment that drastically reduces the design-build-test cycle (). In order to match the cell-free and cellular environments as closely as possible we prepared an extract-based TX-TL expression system from the same  strain we used for in vivo experiments by a method that preserves the endogenous biosynthetic and protein degradation machinery (; ; ; ). Similar expression systems had previously been applied to the prototyping of promoters and ribosomal binding sites (; ). Here we showed that they can also be used for the prototyping of entire genetic networks when they are analyzed in a microfluidic system that emulates cellular growth. Oscillation periods in negative feedback ring oscillators are mainly determined by degradation and dilution rates (), which explains the good correspondence between oscillation periods in our cell-free environment and in . By constructing and testing novel network architectures we show that almost all prototyping can be done on linear DNA, which requires less than 8 hr to assemble and test. This allows rapid screening of different network topologies and rapid screening of parameters important for the desired function of a network. We observed some differences between the cell-free and cellular environment, particularly in the difficulty of predicting cellular toxicity and loading effects of the 5n oscillators in vivo, and some differences between promoter and repressor strengths. With a better understanding of loading effects cell-free prototyping environments may predict when cells will be overloaded. We also add that the complete cell-free prototyping cycle that worked for 5n1 () was not entirely successful for the 5n2 network. 5n2 showed similar oscillations as compared to 5n1 when analyzed on linear DNA in the cell-free environment () and on plasmid DNA in  (), but we did not observe oscillations for 5n2 when run from the same plasmid DNA in the cell-free environment. We hypothesize this is due to differences in expression efficiencies from linear and plasmid DNA in cell-free prototyping environments (; ), and/or differences between repressor strengths in the cell-free and the cellular environment (particularly for QacR, ). While more work is necessary describing and explaining differences between in vitro and in vivo environments, the observed behavior of complex networks in our cell-free environment reflected network behavior in vivo well. Cell-free systems are thus a powerful emulator of the cellular environment allowing precise control over experimental conditions and enabling studies that are difficult or time consuming to perform in cells. We envision that it will not only be useful for prototyping and characterizing novel synthetic systems but also facilitate in-depth analyses of native biological networks in a simplified setting. With further developments in cell-free lysate systems and supporting technologies, the cell-free approach is posed to play an increasing role in biological systems engineering and provides a unique opportunity to design, build, and analyze biological systems. DNA was constructed using either Golden Gate Assembly or Isothermal Assembly. For linear DNA, all DNA was constructed using previously published Rapid Assembly protocols on a ‘v1-1’ vector (). Linear DNA constructs are summarized in . The original repressilator plasmid, pZS1 () was used as a template for initial characterization and for construction of the O2* mutant. Transfer function plasmids were constructed by Transcriptic, Inc. For other plasmids, partial sequences were either obtained from Addgene () or synthesized on gBlocks or ssDNA annealed oligonucleotides (Integrated DNA Technologies). Specific plasmids required secondary-structure free segments, which were designed by R2oDNA (). JS006 () was co-transformed with origin-of-replication compatible plasmids to create engineered strains. Specifically, negative-feedback oscillator units were cloned onto pSC101* low copy plasmids (ampR or kanR), while reporters were cloned onto colE1 medium copy plasmids (kanR or cmR) (). To modulate the reporter copy number, all experiments were conducted below 37°C (). Strain passage was minimized to avoid plasmid deletions due to the  + nature of JS006 and the high complexity of oscillator plasmids or triple-reporter plasmid. Based on the in vitro and in silico results, we used strong transcriptional and translational () units to maximize gain. Preparation of TX-TL was conducted as described previously (), but using strain 'JS006' co-transformed with Rosetta2 plasmid and performing a 1:2:1 extract:DNA:buffer ratio. This resulted in extract ‘eZS4’ with: 8.7 mg/mL protein, 10.5 mM Mg-glutamate, 100 mM K-glutamate, 0.25 mM DTT, 0.75 mM each amino acid except leucine, 0.63 mM leucine, 50 mM HEPES, 1.5 mM ATP and GTP, 0.9 mM CTP and UTP, 0.2 mg/mL tRNA, 0.26 mM CoA, 0.33 mM NAD, 0.75 mM cAMP, 0.068 mM folinic acid, 1 mM spermidine, 30 mM 3-PGA, 2% PEG-8000. For experiments utilizing linear DNA GamS was added to a final concentration of 3.5 µM (). Experiments were performed in a microfluidic nano-reactor device as described previously (; ) with some modifications to optimize the conditions for the lysate-based TX-TL mix. Reaction temperature was 33°C. Lysate was diluted to 2x of the final concentration in 5 mM HEPES 5 mM NaCl buffer (pH 7.2). The reaction buffer mix was combined with template DNA and brought to a final concentration of 2x. For a 24 hr experiment 30 µl of these stocks were prepared. During the experiment, lysate and buffer/DNA solutions were kept in separate tubing feeding onto the chip, cooled to approximately 6ºC, and combined on-chip. We ran experiments with dilution rates (µ) between approximately 2.8 and 0.5 hr, which corresponds to dilution times, t = ln(2) µ, between 15 and 85 min. These were achieved with dilution steps exchanging between 7 and 25% of the reactor volume with time intervals of 7 to 10 min, which alternately added fresh lysate stock or fresh buffer/DNA solution into the reactors. Dilution rates were calibrated before each experiment. Initial conditions for the limit cycle analysis of the repressilator network were set by adding pre-synthesized repressor protein at the beginning of each experiment. For this, CI repressor (together with Citrine reporter) and TetR repressor (together with Cerulean reporter) were expressed for 2.5 hr in batch. On chip the initial reaction was mixed to be composed of 25% pre-synthesis reaction and 75% fresh TX-TL mix and repressilator template DNA. Then, the experiment was performed at a t of 19.2 ± 0.3 min. Initial conditions for the 4-node experiment were 2.5 µM aTc or 250 µM IPTG, and the experiment was performed at a t of 44.5 ± 0.9 min. DNA template concentrations used in steady-state reactions are listed in . Arbitrary fluorescence values were converted to absolute concentrations from a calibration using purified Citrine, Cerulean, and mCherry, which were prepared using previously published protocols utilizing a His6 purification method followed by size-exclusion chromatography and a Bradford assay to determine protein concentration (). Transfer functions of the repressor – promoter pairs were determined in the nano-reactor device at a minimum of two different dilution times (). All tested promoters were cloned into a plasmid in front of a BCD7 ribosomal binding site and the Citrine open reading frame. A non-saturating concentration of 1 nM plasmid was used in the experiment. The repressors were expressed from linear templates carrying the J23151 promoter and the BCD7 ribosomal binding site with time-varying concentrations, which were increased from 0 to 2.5 nM and decreased back to 0 during the course of the experiment (). Simultaneously we expressed Cerulean as a reporter for the repressor concentration from a linear template at an identical concentration as the repressor template. From the concentration of the Citrine reporter we calculated the synthesis rate of the fluorescent protein over time using a model of steady state protein synthesis in the nano-reactor device (), where  and  are dark and fluorescent reporter concentration respectively, t is time, Δt is the time interval between dilution steps,  is the volume fraction replaced per dilution step, which was determined during the calibration of the device, and  is maturation rate of the fluorescent protein. Maturation times of Citrine and Cerulean were determined as described previously () and were 15 ± 4 min for Cerulean and 29 ± 3 min for Citrine. Dark fluorescent protein was calculated from (): and the synthesis rate was calculated from : We used the sum of measured fluorescent Cerulean concentration and () for dark Cerulean as a measure of the total repressor protein present at any time during the experiment. The synthesis rates were normalized to their respective maximal values (v) and plotted against the concentration of the repressor reporter using only repressor concentrations higher than 1nM. The transfer curves were then fit to a Hill function where y is the synthesis rate,  is the minimum synthesis rate,  is the Hill coefficient and  is the Michaelis Menten constant for half maximal promoter activity. The fitting was performed in Igor Pro using orthogonal distance regression with ODRPACK95 assuming a 9% error in the measurements of Citrine and Cerulean fluorescence. Relative promoter strengths (v values) were determined using the transfer function promoter plasmids. In vitro strengths were determined in 5 µl TX-TL reactions at a DNA template concentration of 1 nM. Reactions were assembled in 384-well plates, overlaid with 35 µl Chill-Out Liquid wax (BioRad) and analyzed using a Biotek SynergyMx plate reader set to 33ºC reaction temperature, and reading Citrine fluorescence with Exc: 510 ± 9 nm and Em: 540 ± 9 nm. For comparison, Citrine fluorescence at 6 hr was normalized to the value of pLacI. In vivo strengths were determined using  JS006 transformed with the same plasmids. Cells were grown at 29ºC in MOPS medium supplemented with 0.4% glycerol and 0.2% casaminoacids. For each strain, three independent overnight cultures were diluted 1:50 and grown to mid-log phase. They were then diluted to a starting OD of 0.15 into 100 µl growth medium in a 96-well plate and grown in the plate reader at 29ºC with periodic shaking measuring Citrine fluorescence. Fluorescence values were normalized to OD resulting in steady state values after 2 hr. Average steady state values were normalized to pLacI for comparison with the in vitro measurement. Mother machine () experiments were conducted with custom-made microfluidic chips (mold courtesy of M. Delincé and J. McKinney, EPFL).  cells were trapped in channels of 30 µm length, 2 µm width and 1.2 µm height. Before loading onto the device, cells were grown from a frozen stock to stationery phase. Cells were then concentrated tenfold and loaded onto the chip. Experiments were performed using LB medium supplemented with 0.075% Tween-20 at a flow rate of 400 µl/hr. Oscillation traces were collected from single mother machine traps using the background subtracted average fluorescence intensity of the entire trap. CellASIC experiments were conducted using B04A plates (Merck Millipore, Darmstadt Germany). Flow rates were varied between 0.25 psi – 2 psi. Cells were grown from frozen stock in media at running temperature to stationery phase. Cells were then diluted 1:100 for 2 hr, and loaded on a equilibrated plate at 1:1000 or less to achieve single-cell loading efficiencies per chamber. To vary cellular doubling times, different growth media were used: LB (BD Biosciences), M9CA (Sigma Aldrich) with 0.2% glucose, 2xYT (MP Bio), MOPS EZ Rich (Teknova). Cells were imaged in time series every 10-–20 min using a 100x phase objective minimizing both lamp intensity (12% Xcite 120, Excelitas Inc. Waltam MA or 1–2% CoolLED pE-2, Custom interconnected Ltd., UK) and exposure times (<500 ms) to limit photo-toxicity. Images were processed and stitched (), if necessary, using Fiji/ImageJ (). Fluorescence traces of cell populations with synchronized oscillations were extracted from CellASIC movies using background corrected mean fluorescence intensity from the entire field of view. For cells that were not synchronized over the complete field of view, we tracked regions of oscillating sister cells at the edge of the microcolony. We used ImageJ to define polygonal regions around those cells and manually shifted the polygonal region to track the front of growing cells. Periods were determined from fluorescence traces derived from mother machine and CellASIC movies by measuring the time from one oscillation peak to the next peak. Doubling times were estimated by averaging over the doubling times of at least ten individual cells. We consider an -node negative cyclic feedback biocircuit and denote the genes, mRNAs and proteins by , and  and , respectively. Let ) and ) denote the concentrations of mRNA  and protein , respectively. For example, the novel 3-node ring oscillator in  is defined by n=3, () = [BetI mRNA], () = [PhlF mRNA], () = [SrpR mRNA], () = [BetI protein], () = [PhlF protein], () = [SrpR protein]. Stoichiometry and reaction rates. http://dx.doi.org/10.7554/eLife.09771.030 Our mathematical model considers transcription, translation and degradation of mRNA and protein molecules as summarized in , where  and  represent the degradation rates of  and , respectively, and  and  are the translation and transcription rates. The constants  and  are the Michaelis-Menten constant and the Hill coefficient associated with the protein  and the corresponding promoter on gene . We hereafter use subscripts 0 and  + 1 as the substitutes of  and 1, respectively, to avoid notational clutter. Using the law of mass action and the quasi-steady state approximation, the dynamics of the mRNA and protein concentrations can be modeled by the following ordinary differential equations (ODE) where  = 1,2,…, , and  is the concentration of the circuit plasmid. The constant  is the dilution rate of mRNA and proteins by the microfluidic device. The dilution time of the microfluidic device is defined by Parameters used for simulations. http://dx.doi.org/10.7554/eLife.09771.031 Degradation rate of mRNAs (min) ln (2)/8 (half-life time: 8 min) Degradation rate of proteins (min) ln (2)/90 (half-life time: 90 min) Transcription rate (nM ⋅· min plasmid concentration) Translation rate (nM ·min · mRNA concentration) The ODE model () was numerically simulated using ode45 solver of MATLAB R2013b to obtain qualitative insight into the period as well as the oscillatory parameter regime ( and ). The parameters summarized in  were used for the simulations. The plasmid concentration  was set as  = 5.0 nM for . The initial concentrations for the simulations were The period of oscillations was calculated based on the autocorrelation of the simulated protein concentration (). More specifically, let where  is a positive constant such that ) is steady state at , and is a sufficiently large constant compared to the period of oscillations. The period of oscillations  was determined by  = min argmax(). The simulation result is also consistent with the analytic estimation of the oscillation period in Hori et al. () in that the period increases monotonically with the dilution time The parameter region for oscillations () was obtained based on the analysis result (Theorem 3) by Hori et al. (). Since parameter values do not depend on the subscript  as shown in the parameters table above, we remove the subscript  and define  : = ). In the same way, we define  and . It was shown that the protein concentrations  1,2,…, ) oscillate if both of the following inequalities are satisfied (). To obtain the parameter region in , we substituted n =3 and the parameters shown in the table above into the right-hand side of the inequality condition (), then we varied (= ln(2)/) between 5 to 80. The inequality () was always satisfied for these parameters. The parameter region of  was obtained by the local stability analysis of the model (). The previous theoretical result () showed that the model () has a unique equilibrium point and the protein concentrations  (i = 1,2, …, ) show stable oscillations if the Jacobian matrix evaluated at the equilibrium point has an eigenvalue in the open right-half complex plane. Based on this result, we computed the Jacobian eigenvalues with varying , which we denote by , and . The values in the parameters table above were used for the other parameters. The plasmid concentration was set as  = 5.0 nM in the computation..